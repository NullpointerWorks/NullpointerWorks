<!DOCTYPE html>
<html lang="en-US">
	<head>
		<title>ARGB Controller V2 | Nullpointer Works</title>
		<meta charset="utf-8"/>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="Nullpointer Works Portfolio ARGB Controller" />
		<meta name="keywords" content="argb,controller,null*,nullpointer,works,nullpointerworks" />
		<meta name="author" content="Michiel Drost" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="css/argb-control-v2.css" type="text/css" />
		<link rel="stylesheet" href="lib/vs2015.css" />
	</head>
	<body>
		<div class="parallax"></div>
		<div class="content">
			<div class="title">ARGB Controller v2</div>
			
			<!-- modal display -->
			<div id="modal" class="modal">
			<div id="modal-content" class="modal-content" style="line-height: 0;">
				<span style="line-height: 1;" class="modal-close">&times;</span>
				<img id="modal-image" style="width:100%;" src="" />
			</div>
			</div>
			
			<!-- index -->
			<div class="chapter">
				<a id="table" href="#table"><img style="width: 20px;" /></a>Table of Content
			</div>
			<div class="toc">
				<div><a href="#intro">Introduction</a></div>
				<div><a href="#design">Design</a></div>
				<div><a href="#schema">Schematic</a></div>
				<div><a href="#layout">PCB Layout</a></div>
				<div><a href="#assembly">Assembly</a></div>
				<div><a href="#enclosure">Enclosure</a></div>
				<div><a href="#code">Code</a></div>
				<div><a href="#downloads">Downloads</a></div>
			</div>
			
			<!-- introduction -->
			<div class="chapter">
				<a id="intro" href="#intro"><img style="width: 20px;" src="img/star.svg" /></a>Introduction
			</div>
			<p>For the majority of people that own a computer treat it as nothing more than a fancy box. A tool that 
			breaks often and is always a hassle to update or kept at reasonable speed. They use it to check their 
			e-mails, view and print documents, update their socials and perhaps play a game of solitair. However, in 
			the eyes of an enthusiast it's not just a fancy box, nor an over-powered calculator. It's a piece of 
			furnature that requires the same love and care like anything else in the household.</p>
			<p>In particular the gaming community is expressing this love in a way similar to the people tuning their 
			car's performance and looks. When you search online for water-cooled PCs you find images of hardline tube 
			cooling systems with colorful coolant and lots of lighting and cable wiring matching in color to fit the 
			theme.</p>
			<p>Mind you I'm not a hardcore PC tuner, but I do enjoy tinkering when I have the oppertunity. One of 
			those opportunities had risen when I was building my new PC. The new case has plenty of room for future upgrades and 
			eight fan mounting points. Since I had some multicolor fans laying around, I thought it be fun to have 
			those installed. Unfortunately, the original controller for those fans was lacking so I opted to make my 
			own.</p>
			
			<div onclick="showModalImage('img/argb_fan_800.jpg')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/argb_fan_800.jpg"></img>
			</div>
			<div class="image_desc">A 120mm multicolor computer fan from Sharkoon. (not affiliated)</div>
			
			<!-- reviewing my options -->
			<div class="chapter">
				<a id="design" href="#design"><img style="width: 20px;" src="img/star.svg" /></a>Design
			</div>
			<p>Reviewing my options I stumbled on a library available for the Arduino named "FastLED" that allows for 
			controller addressable LEDs. Good stuff, since the LEDs inside the multicolor fans are addressable red-green-blue(RGB) 
			LEDs. I'm not sure exactly which product series they used, but I suspect they are WS2812B. The WS2812 are a 
			popular choice in RGB strips and are consealed in a reasonably sized 5050 package. Having checked, the configuration
			inside the fan turns out to be a circularly glued LED strip.</p>
			<p>The Arduino development platform primarely utilize AVR microcontrollers and among the most popular, 
			the mega328, has attained a large code base. Arduino has made development for these microcontrollers 
			very easy with their programming software (the Arduino IDE) and have made AVR quite popular. </p>
			<p>The FastLED library can allocate a pin for sending data over to an addressable LED. All other LEDs on 
			the strip have their data input daisy-chained together on the output of the previous. Only the first LED in 
			the chain needs to be informed on what behaviour the others are to display. So to control eight RGB fans 
			I need 8 digital pins, one for each LED strip. The mega328 has 10 digital I/O pins and 5 analog 
			pins that can be configured to be inputs, or digital outputs. To signal the controller to step to 
			the next color pattern I need to ensure I don't allocate all my interrupt-capable pins as RGB data outputs. </p>
			<p>To really complete the project I need an enclosure to protect the circuitry. Since 2.5 inch drive mounting points 
			are very common nowadays it would be nice if the controller can be mounted in an open slot. And if not 
			it's not a big problem. I own an Ender 3 3D-printer so I can print the enclosure right here in my workspace.
			<!-- drawing the schematic -->
			<div class="chapter">
				<a id="schema" href="#schema"><img style="width: 20px;" src="img/star.svg" /></a>Schematics
			</div>
			
			<p></p>
			<div onclick="showModalImage('img/schem/Supply.png')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/schem/Supply.png"></img>
			</div>
			<div class="image_desc">ATX Power supply to the controller.</div>
			
			
			<p></p>
			<div onclick="showModalImage('img/schem/UART.png')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/schem/UART.png"></img>
			</div>
			<div class="image_desc">USB input to UART conversion.</div>
			
			
			<p></p>
			<div onclick="showModalImage('img/schem/MCU.png')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/schem/MCU.png"></img>
			</div>
			<div class="image_desc">Microcontroller circuitry with input switch.</div>
			
			<p></p>
			<div onclick="showModalImage('img/schem/LEDStrips.png')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/schem/LEDStrips.png"></img>
			</div>
			<div class="image_desc">Addressable-RGB strip headers.</div>
			
			<p></p>
			<div onclick="showModalImage('img/schem/FanConnection.png')">
				<img style="cursor: zoom-in;" class="image_pane" src="img/schem/FanConnection.png"></img>
			</div>
			<div class="image_desc">12V ventilation headers.</div>
			
			
			
			
			
			
			
			<!-- drawing the PCB -->
			<div class="chapter">
				<a id="layout" href="#layout"><img style="width: 20px;" src="img/star.svg" /></a>PCB Layout
			</div>
			<p></p>
			
			<!-- soldering the board -->
			<div class="chapter">
				<a id="assembly" href="#assembly"><img style="width: 20px;" src="img/star.svg" /></a>Assembly
			</div>
			<p></p>
			
			<!-- drawing the enclosure for 3d printing -->
			<div class="chapter">
				<a id="enclosure" href="#enclosure"><img style="width: 20px;" src="img/star.svg" /></a>Enclosure
			</div>
			<p></p>
			
			<!-- writing the controller code -->
			<div class="chapter">
				<a id="code" href="#code"><img style="width: 20px;" src="img/star.svg" /></a>Code
			</div>
			<p></p>
			
			<div class="codeblock">
				<pre><code class="cpp"></code></pre>
			</div>
			
			<!-- various downloads -->
			<div class="chapter">
				<a id="downloads" href="#downloads"><img style="width: 20px;" src="img/star.svg" /></a>Downloads
			</div>
			<p></p>
			
			<div></div>
		</div>
		<!-- footer -->
		<div class="footer">
			<div class="copynotice">NullpointerWorks &copy; 2021</div>
		</div>
	</body>
	<script src="js/argb-control-v2.js" type="text/javascript"></script>
	<script src="lib/highlight.pack.js"></script>
	<script type="text/javascript">
		function showModalImage(image)
		{
			var img = document.getElementById("modal-image");
			img.src = image;
			
			var modal = document.getElementById("modal");
			modal.style.display = "block";
		}
		
		function closeModal()
		{
			var modal = document.getElementById("modal");
			modal.style.display = "none";
			
			var img = document.getElementById("modal-image");
			img.src = "";
		}
		
		hljs.initHighlightingOnLoad();
		
		var modal = document.getElementById("modal");
		modal.onclick = function(event) // close when clicking anywhere
		{
			if (event.target == modal) 
			{
				closeModal();
			}
		}
		var span = document.getElementsByClassName("modal-close")[0];
		span.onclick = closeModal;
	</script>
</html>
